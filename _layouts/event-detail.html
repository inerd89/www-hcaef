---
layout: master
classes: events-page events-page--secondary
---

<article class="article article--event">
	<div class="container">
		<a class="back-from-article typo--link" href="/events">&larr; Back to Events</a>
		<header class="article-header">
			<div class="article-social-share">
				<a class="article-share-fb" href="https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ page.url }}" target="_blank">{% include icons/facebook_icon.svg color="dark" %}</a>
				<a class="article-share-tw" href="https://twitter.com/home?status={{ page.title | append: ": " }}{{ site.url }}{{ page.url }}" target="_blank">{% include icons/twitter_icon.svg color="dark" %}</a>
				<a class="article-share-in" href="https://www.linkedin.com/shareArticle?mini=true&url={{ site.url }}{{ page.url }}&title={{ page.title }}&source={{ site.title }}" target="_blank">{% include icons/linkedin_icon.svg color="dark" %}</a>
			</div>
			<h1 class="article-hed typo--article-title">{{ page.title }}</h1>
			{% assign startDate = page['Event Start Date'] | date: "%B %d, %Y" %}
			{% assign endDate = page['Event End Date'] | date: "%B %d, %Y" %}
			{% assign startYear = page['Event Start Date'] | date: "%Y" | times: 1 %}
			{% assign startMonth = page['Event Start Date'] | date: "%m" | times: 1 %}
			{% assign endYear = page['Event End Date'] | date: "%Y" | times: 1 %}
			{% assign endMonth = page['Event End Date'] | date: "%m" | times: 1 %}

			{% if page['Event Start Date'] | date: "%B %e, %Y" == page['Event End Date'] | date: "%B %e, %Y" %}
				<h3 class="article-dek typo--large"><time>{{ page['Event Start Date'] | date: "%B %e, %Y" }} | {{ page['Event Start Date'] | date: "%l:%M %P" }}&ndash;{{ page['Event End Date'] | date: "%l:%M %P" | strip }}</time></h3>
			{% elsif startYear == endYear %}
				{% if startMonth == endMonth %}
					<h3 class="article-dek typo--large"><time>{{ page['Event Start Date'] | date: "%B %e" }}&ndash;{{ page['Event End Date'] | date: "%e, %Y" }} | {{ page['Event Start Date'] | date: "%l:%M %P" }}&ndash;{{ page['Event End Date'] | date: "%l:%M %P" | strip }}</time></h3>
				{% else %}
					<h3 class="article-dek typo--large"><time>{{ page['Event Start Date'] | date: "%B %e" }}&ndash;{{ page['Event End Date'] | date: "%B %e, %Y" }} | {{ page['Event Start Date'] | date: "%l:%M %P" }}&ndash;{{ page['Event End Date'] | date: "%l:%M %P" | strip }}</time></h3>
				{% endif %}
			{% elsif startYear < endYear %}
				<h3 class="article-dek typo--large"><time>{{ page['Event Start Date'] | date: "%B %e, %Y" }}&ndash;{{ page['Event End Date'] | date: "%B %e, %Y" }} | {{ page['Event Start Date'] | date: "%l:%M %P" }}&ndash;{{ page['Event End Date'] | date: "%l:%M %P" | strip }}</time></h3>
			{% else %}
				<p>ERROR: End Date comes before Start Date.</p>
			{% endif %}
		</header>
		{% comment %} // until functionality fully built
			{% if page.tags and page.tags.size > 0 %}
				<div class="article-tags">
					{% for tag in page.tags %}
						<a class="article-tag typo--link" href="">{{ tag }}</a>
					{% endfor %}
				</div>
			{% endif %}
		{% endcomment %}
		{% if page['Image'] and page['Image'] != '' %}
		<div class="article-lead-image">
			<img src="{{ page['Image'] }}" alt="{{ page['Image Caption'] }}" />
			{% if page['Image Caption'] and page['Image Caption'] != '' %}
				<p class="image-caption typo--caption">{{ page['Image Caption'] }}</p>
			{% endif %}
		</div>
		{% endif %}
		<div class="article-body">
			{% if page['Volunteers Needed?'] %}
				<p><strong>Volunteers needed!</strong></p>
			{% endif %}
			{{ page.content }}
			{% if page['Event Info URL'] and page['Event Info URL'] != '' %}
				<p>Learn more at <a href="//{{ page['Event Info URL'] }}">{{ page['Event Info URL'] }}</a>.</p>
			{% endif %}
		</div>
		<div class="event-info-sidebar">
			{% assign startYear = page['Event Start Date'] | date: "%Y" | times: 1 %}
			{% assign startMonth = page['Event Start Date'] | date: "%m" | times: 1 %}
			{% assign endYear = page['Event End Date'] | date: "%Y" | times: 1 %}
			{% assign endMonth = page['Event End Date'] | date: "%m" | times: 1 %}

			{% if page['Event Start Date'] | date: "%B %e, %Y" == page['Event End Date'] | date: "%B %e, %Y" %}
				<p><time>{{ page['Event Start Date'] | date: "%B %e, %Y" }}<br>{{ page['Event Start Date'] | date: "%l:%M %P" }}&ndash;{{ page['Event End Date'] | date: "%l:%M %P" | strip }}</time></p>
			{% elsif startYear == endYear %}
				{% if startMonth == endMonth %}
					<p><time>{{ page['Event Start Date'] | date: "%B %e" }}&ndash;{{ page['Event End Date'] | date: "%e, %Y" }}<br>{{ page['Event Start Date'] | date: "%l:%M %P" }}&ndash;{{ page['Event End Date'] | date: "%l:%M %P" | strip }}</time></p>
				{% else %}
					<p><time>{{ page['Event Start Date'] | date: "%B %e" }}&ndash;{{ page['Event End Date'] | date: "%B %e, %Y" }}<br>{{ page['Event Start Date'] | date: "%l:%M %P" }}&ndash;{{ page['Event End Date'] | date: "%l:%M %P" | strip }}</time></p>
				{% endif %}
			{% elsif startYear < endYear %}
				<p><time>{{ page['Event Start Date'] | date: "%B %e, %Y" }}&ndash;{{ page['Event End Date'] | date: "%B %e, %Y" }}<br>{{ page['Event Start Date'] | date: "%l:%M %P" }}&ndash;{{ page['Event End Date'] | date: "%l:%M %P" | strip }}</time></p>
			{% else %}
				<p>ERROR: End Date comes before Start Date.</p>
			{% endif %}
			{% if page['Event Venue'] and page['Event Venue'] != '' %}
				<p>{{ page['Event Venue'] }}
					{% if page['Event Venue Address'] and page['Event Venue Address'] != '' %}
						<br>{{ page['Event Venue Address'] }}
					{% endif %}
				</p>
			{% endif %}
			{% if page['Tickets Required?'] %}
				<p>Tickets are required. {% if page['Instructions for Tickets'] and page['Instructions for Tickets'] != '' %}{{ page['Instructions for Tickets'] }}{% endif %}</p>
			{% endif %}
			{% if page['Ticket Purchasing URL'] and page['Ticket Purchasing URL'] != '' %}
				<a class="button button--dark button--tickets typo--button" href="//{{ page['Ticket Purchasing URL'] }}">Buy Tickets &rarr;</a>
			{% endif %}
			{% if page['Event Info URL'] and page['Event Info URL'] != '' %}
				<p>More info at <a href="//{{ page['Event Info URL'] }}">{{ page['Event Info URL'] }}</a></p>
			{% endif %}
		</div>
	</div>
</article>

{% assign currentYear = 'now' | date: '%Y' | times: 1 %}
{% assign currentMonth = 'now' | date: '%m' | times: 1 %}
{% assign currentDay = 'now' | date: '%d' | times: 1 %}
{% assign pastEvents = '' | split: '' %}
{% assign currentEvents = '' | split: '' %}
{% for event in site.events %}
	{% assign year = event['Event Start Date'] | date: '%Y' | times: 1 %}
	{% assign month = event['Event Start Date'] | date: '%m' | times: 1 %}
	{% assign day = event['Event Start Date'] | date: '%d' | times: 1 %}

	{% if year > currentYear %}
		{% assign currentEvents = currentEvents | push: event %}
	{% elsif year == currentYear and month > currentMonth %}
		{% assign currentEvents = currentEvents | push: event %}
	{% elsif year == currentYear and month == currentMonth and day >= currentDay %}
		{% assign currentEvents = currentEvents | push: event %}
	{% else %}
		{% assign pastEvents = pastEvents | push: event %}
	{% endif %}

{% endfor %}

{% assign related = '' | split:'' %}
{% for event in currentEvents %}
	{% if event.url != page.url %}
		{% assign related = related | push: event %}
	{% endif %}
{% endfor %}

{% assign relatedSize = related | size | times: 1 %}
{% if relatedSize > 0 %}
<section class="page-section related">
	<div class="container">
		<h3 class="page-section-title typo--section-title">More Upcoming Events</h3>
		<div class="event-cards">
			{% assign numberOfWides = 0 %}
			{% for event in related limit: 3 %}
				{% assign i = forloop.index %}

				{% case i %}
					{% when 1 %}
						{% if event['Image'] and event['Image'] != '' %}
							{% assign img = event['Image'] %}
							{% include event-card.html event=event wide=true %}
							{% assign numberOfWides = numberOfWides | plus: 1 %}
						{% else %}
							{% include event-card.html event=event %}
						{% endif %}
					{% when 2 %}
						{% if numberOfWides == 0 and event['Image'] and event['Image'] != '' %}
							{% assign img = event['Image'] %}
							{% include event-card.html event=event wide=true %}
							{% assign numberOfWides = numberOfWides | plus: 1 %}
						{% else %}
							{% include event-card.html event=event %}
						{% endif %}
					{% when 3 %}
						{% if numberOfWides == 0 %}
							{% include event-card.html event=event %}
						{% endif %}
				{% endcase %}
			{% endfor %}
		</div>
	</div>
</section>
{% endif %}
